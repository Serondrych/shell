#!/usr/bin/env bash
# Script that displays To infinity and beyond indefinitely. Sleeps between loops
i=1
while [ $i ]; do
case "$i" in
	"start" ) 
		./manage_my_process &
		pgrep -a bash | grep "manage_my_process" | awk '{print $1}' > /var/run/myprocess.pid
		echo "manage_my_process started"
		;;
	"stop" )
		pkill -f "./manage_my_process"
		rm /var/run/my_process
		echo "manage_my_process stopped"
		;;
	"restart" )
		pkill -f "./manage_my_process"
		rm /var/run/my_process
		./manage_my_process &
		pgrep -a bash | grep "manage_my_process" | awk '{print $1}' > /var/run/myprocess.pid
		echo "manage_my_process restarted"
		;;
	* )
		echo "Usage: manage_my_process {start|stop|restart}"
		;;
esac
done
